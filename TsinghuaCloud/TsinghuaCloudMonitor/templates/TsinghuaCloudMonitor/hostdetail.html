{% load staticfiles %}
{% csrf_token %}
{% load staticfiles %}

<script>
function getCookie(name) {
    var cookieValue = null;
    if (document.cookie && document.cookie != '') {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = jQuery.trim(cookies[i]);
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) == (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}

function csrfSafeMethod(method) {
    // these HTTP methods do not require CSRF protection
    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
}
// DONE DJANGO HACK

function get_site_prefix(){
    var href = $(location).attr("href");
    return href
}

function cache_clear()
    {
    window.location.reload(true);
    alert('refresh');
}

function doSearch(){
    var prefix= get_site_prefix();
    $.ajax({
        type: "POST",
        url: prefix + "doSearch/", 
        data: { 
            service: $('#itemid').val(),
            host: $('#productid').val(),
        },
	});
}
        
$(function () {
 
    $(document).ready(function(){
     setInterval(function(){cache_clear()},1000000);
     });
      
      
          
});



</script>


<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Basic Panel - jQuery EasyUI Demo</title>
<script src="{% static 'jquery-easyui-1/jquery.min.js'%}"></script>
<script src="{% static 'jquery-easyui-1/jquery.easyui.min.js'%}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'cloudclient/monitor.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'jquery-easyui-1/themes/icon.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'jquery-easyui-1/themes/default/easyui.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'jquery-easyui-1/demo/demo.css' %}">
</head>

<body class="easyui-layout">
	<div data-options="region:'north',border:false" style="height:60px;font-size:28px;background:#F5F5F5;padding:10px">Tsinghua Cloud Monitor</div>
	<div data-options="region:'west',split:true,title:'Menu'" style="width:150px;padding:10px;">
	<a href="/login" class="easyui-linkbutton" style="width:130px">Homepage</a>
	<a href="/monitor" class="easyui-linkbutton" style="width:130px">Services</a>
	<a href="/hoststatus" class="easyui-linkbutton" style="width:130px">Hosts</a>
	<a href="/mapchart" class="easyui-linkbutton" style="width:130px">Map</a>
</div>
    <div data-options="region:'east',split:true" title="Host Detail" style="width:300px;">
    <table class="easyui-datagrid">
    <thead>
      <tr>
        <th data-options="field:'host'" width="50">Host</th>
        <th data-options="field:'IP'" width="150">IP</th>
        <th data-options="field:'Owner'" width="50">Owner</th>
        <th data-options="field:'Info'" width="50">Info</th>
                
      </tr>
    </thead>
    <tbody>
        <tr>
        <td>{{host.HostName}}</td>
        <td >{{host.IP}}</td>
        <td >{{host.Owner}}</td>
        <td >{{host.Info}}</td>
        </tr>
    </tbody>
  </table>      
    </div>
	
	<div data-options="region:'south',border:false" style="height:20px;background:#F5F5F5;padding:10px;"></div>
	<div data-options="region:'center',title:'Monitor Charts'">
	    
		


<div id="main" style="height:400px;width:900px;"></div>
<!-- ECharts单文件引入 -->
<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
<script type="text/javascript">
$(function () {
var csrftoken = getCookie('csrftoken'); 


  
  
    $.ajaxSetup({
        crossDomain: false, // obviates need for sameOrigin test
        beforeSend: function(xhr, settings) {
            if (!csrfSafeMethod(settings.type)) {
                xhr.setRequestHeader("X-CSRFToken", csrftoken);
            }
        }
    });
    // END DJANGO AJAX
   
});

       
        require.config({
            paths: {
                echarts: 'http://echarts.baidu.com/build/dist'
            }
        });
// 使用
        require(
            [
                'echarts',
                'echarts/chart/line' // 使用柱状图就加载bar模块，按需加载
               
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('main')); 
                var memory_timestamp = function(){
                	var data = []; 
	                for (var i = 0; i <= 20; i++) {
					    data.push('{'+'{'+'memory_timestamp.' + i + '}}');
					    
					    
					 };
					 
					 return data;
                };
/*                 alert({{memory_timestamp}});
                /*
var memory_used =function(){
                	var data = []; 
	                for (var i = 0; i <= 20; i++) {
					    data.push('{{memory_used.i}}');
					    
					    
					 };
					 return data;
                };
*/


                var option = {
    title : {
        text: 'Memeory Usage Data',
        subtext: 'Host'
    },
    tooltip : {
        trigger: 'axis'
    },
    legend: {
        data:['Used']
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            dataZoom : {show: true},
            magicType : {show: false},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    dataZoom : {
        show : true,
        realtime : true,
        //orient: 'vertical',   // 'horizontal'
        //x: 0,
        y: 36,
        //width: 400,
        height: 20,
        //backgroundColor: 'rgba(221,160,221,0.5)',
        //dataBackgroundColor: 'rgba(138,43,226,0.5)',
        //fillerColor: 'rgba(38,143,26,0.6)',
        //handleColor: 'rgba(128,43,16,0.8)',
        //xAxisIndex:[],
        //yAxisIndex:[],
        start : 80,
        end : 100
    },    
    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            data : ['{{memory_timestamp.72}}','{{memory_timestamp.71}}','{{memory_timestamp.70}}','{{memory_timestamp.69}}','{{memory_timestamp.68}}','{{memory_timestamp.67}}','{{memory_timestamp.66}}','{{memory_timestamp.65}}','{{memory_timestamp.70}}','{{memory_timestamp.69}}','{{memory_timestamp.68}}','{{memory_timestamp.67}}','{{memory_timestamp.66}}','{{memory_timestamp.65}}','{{memory_timestamp.64}}','{{memory_timestamp.63}}','{{memory_timestamp.62}}','{{memory_timestamp.61}}','{{memory_timestamp.60}}','{{memory_timestamp.59}}','{{memory_timestamp.58}}','{{memory_timestamp.57}}','{{memory_timestamp.56}}','{{memory_timestamp.55}}','{{memory_timestamp.54}}','{{memory_timestamp.53}}','{{memory_timestamp.52}}','{{memory_timestamp.51}}','{{memory_timestamp.50}}','{{memory_timestamp.49}}','{{memory_timestamp.48}}','{{memory_timestamp.47}}','{{memory_timestamp.46}}','{{memory_timestamp.45}}','{{memory_timestamp.44}}','{{memory_timestamp.43}}','{{memory_timestamp.42}}','{{memory_timestamp.41}}','{{memory_timestamp.40}}','{{memory_timestamp.39}}','{{memory_timestamp.38}}','{{memory_timestamp.37}}','{{memory_timestamp.36}}','{{memory_timestamp.35}}','{{memory_timestamp.34}}','{{memory_timestamp.33}}','{{memory_timestamp.32}}','{{memory_timestamp.31}}','{{memory_timestamp.30}}','{{memory_timestamp.29}}','{{memory_timestamp.28}}','{{memory_timestamp.27}}','{{memory_timestamp.26}}','{{memory_timestamp.25}}','{{memory_timestamp.24}}','{{memory_timestamp.23}}','{{memory_timestamp.22}}','{{memory_timestamp.21}}','{{memory_timestamp.20}}','{{memory_timestamp.19}}','{{memory_timestamp.18}}','{{memory_timestamp.17}}','{{memory_timestamp.16}}','{{memory_timestamp.15}}','{{memory_timestamp.14}}','{{memory_timestamp.13}}','{{memory_timestamp.12}}','{{memory_timestamp.11}}','{{memory_timestamp.10}}','{{memory_timestamp.9}}','{{memory_timestamp.8}}','{{memory_timestamp.7}}','{{memory_timestamp.6}}','{{memory_timestamp.5}}','{{memory_timestamp.4}}','{{memory_timestamp.3}}','{{memory_timestamp.2}}','{{memory_timestamp.1}}','{{memory_timestamp.0}}']  
        }
    ],
    yAxis : [
        {
            type : 'value',
            axisLabel : {
                formatter: '{value} KB'
            },
            scale:true
        }
    ],
    series : [
                {
            name:'Used',
            type:'line',
            data: [{{memory_used.72}},{{memory_used.71}},{{memory_used.70}},{{memory_used.69}},{{memory_used.68}},{{memory_used.67}},{{memory_used.66}},{{memory_used.65}},{{memory_used.64}},{{memory_used.63}},{{memory_used.62}},{{memory_used.61}},{{memory_used.60}},{{memory_used.59}},{{memory_used.58}},{{memory_used.57}},{{memory_used.56}},{{memory_used.55}},{{memory_used.54}},{{memory_used.53}},{{memory_used.52}},{{memory_used.51}},{{memory_used.50}},{{memory_used.49}},{{memory_used.48}},{{memory_used.47}},{{memory_used.46}},{{memory_used.45}},{{memory_used.44}},{{memory_used.43}},{{memory_used.42}},{{memory_used.41}},{{memory_used.40}},{{memory_used.39}},{{memory_used.38}},{{memory_used.37}},{{memory_used.36}},{{memory_used.35}},{{memory_used.34}},{{memory_used.33}},{{memory_used.32}},{{memory_used.31}},{{memory_used.30}},{{memory_used.29}},{{memory_used.28}},{{memory_used.27}},{{memory_used.26}},{{memory_used.25}},{{memory_used.24}},{{memory_used.23}},{{memory_used.22}},{{memory_used.21}},{{memory_used.20}},{{memory_used.19}},{{memory_used.18}},{{memory_used.17}},{{memory_used.16}},{{memory_used.15}},{{memory_used.14}},{{memory_used.13}},{{memory_used.12}},{{memory_used.11}},{{memory_used.10}},{{memory_used.9}},{{memory_used.8}},{{memory_used.7}},{{memory_used.6}},{{memory_used.5}},{{memory_used.4}},{{memory_used.3}},{{memory_used.2}},{{memory_used.1}},{{memory_used.0}}],   

            
            markLine : {
                data : [
                    {type : 'average', name : '平均值'}
                ]
            }
        },
                
    ]
};
                    
                // 为echarts对象加载数据 
                myChart.setOption(option); 
            }
        );

</script>

<div id="cpuload" style="height:400px;width:900px;"></div>
<!-- ECharts单文件引入 -->
<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
<script type="text/javascript">
 $(function () {
var csrftoken = getCookie('csrftoken'); 

  
  
    $.ajaxSetup({
        crossDomain: false, // obviates need for sameOrigin test
        beforeSend: function(xhr, settings) {
            if (!csrfSafeMethod(settings.type)) {
                xhr.setRequestHeader("X-CSRFToken", csrftoken);
            }
        }
    });
    // END DJANGO AJAX
   
});
       // 路径配置
        require.config({
            paths: {
                echarts: 'http://echarts.baidu.com/build/dist'
            }
        });
// 使用
        require(
            [
                'echarts',
                'echarts/chart/line' // 使用柱状图就加载bar模块，按需加载
               
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('cpuload')); 
                var option = {
    title : {
        text: 'CPU Load Data',
        subtext: 'Host'
    },
    tooltip : {
        trigger: 'axis'
    },
    legend: {
        data:['1 minute','5 minutes']
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            dataZoom : {show: true},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    dataZoom : {
        show : true,
        realtime : true,
        //orient: 'vertical',   // 'horizontal'
        //x: 0,
        y: 36,
        //width: 400,
        height: 20,
        //backgroundColor: 'rgba(221,160,221,0.5)',
        //dataBackgroundColor: 'rgba(138,43,226,0.5)',
        //fillerColor: 'rgba(38,143,26,0.6)',
        //handleColor: 'rgba(128,43,16,0.8)',
        //xAxisIndex:[],
        //yAxisIndex:[],
        start : 80,
        end : 100
    },    
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            data : ['{{cpu_timestamp.144}}','{{cpu_timestamp.142}}','{{cpu_timestamp.140}}','{{cpu_timestamp.138}}','{{cpu_timestamp.136}}','{{cpu_timestamp.134}}','{{cpu_timestamp.132}}','{{cpu_timestamp.130}}','{{cpu_timestamp.128}}','{{cpu_timestamp.126}}','{{cpu_timestamp.124}}','{{cpu_timestamp.122}}','{{cpu_timestamp.120}}','{{cpu_timestamp.118}}','{{cpu_timestamp.116}}','{{cpu_timestamp.114}}','{{cpu_timestamp.112}}','{{cpu_timestamp.110}}','{{cpu_timestamp.108}}','{{cpu_timestamp.106}}','{{cpu_timestamp.104}}','{{cpu_timestamp.102}}','{{cpu_timestamp.100}}','{{cpu_timestamp.98}}','{{cpu_timestamp.96}}','{{cpu_timestamp.94}}','{{cpu_timestamp.92}}','{{cpu_timestamp.90}}','{{cpu_timestamp.88}}','{{cpu_timestamp.86}}','{{cpu_timestamp.84}}','{{cpu_timestamp.82}}','{{cpu_timestamp.80}}','{{cpu_timestamp.78}}','{{cpu_timestamp.76}}','{{cpu_timestamp.74}}','{{cpu_timestamp.72}}','{{cpu_timestamp.70}}','{{cpu_timestamp.68}}','{{cpu_timestamp.66}}','{{cpu_timestamp.64}}','{{cpu_timestamp.62}}','{{cpu_timestamp.60}}','{{cpu_timestamp.58}}','{{cpu_timestamp.56}}','{{cpu_timestamp.54}}','{{cpu_timestamp.52}}','{{cpu_timestamp.50}}','{{cpu_timestamp.48}}','{{cpu_timestamp.46}}','{{cpu_timestamp.44}}','{{cpu_timestamp.42}}','{{cpu_timestamp.40}}','{{cpu_timestamp.38}}','{{cpu_timestamp.36}}','{{cpu_timestamp.34}}','{{cpu_timestamp.32}}','{{cpu_timestamp.30}}','{{cpu_timestamp.28}}','{{cpu_timestamp.26}}','{{cpu_timestamp.24}}','{{cpu_timestamp.22}}','{{cpu_timestamp.20}}','{{cpu_timestamp.18}}','{{cpu_timestamp.16}}','{{cpu_timestamp.14}}','{{cpu_timestamp.12}}','{{cpu_timestamp.10}}','{{cpu_timestamp.8}}','{{cpu_timestamp.6}}','{{cpu_timestamp.4}}','{{cpu_timestamp.2}}','{{cpu_timestamp.0}}']
        }
    ],
    yAxis : [
        {
            type : 'value',
            axisLabel : {
                formatter: '{value} '
            },
            scale:true
        }
    ],
    series : [
        {
            name:'Average in 1 minute',
            type:'line',
            data:[{{cpu_one.144}},{{cpu_one.142}},{{cpu_one.140}},{{cpu_one.138}},{{cpu_one.136}},{{cpu_one.134}},{{cpu_one.132}},{{cpu_one.130}},{{cpu_one.128}},{{cpu_one.126}},{{cpu_one.124}},{{cpu_one.122}},{{cpu_one.120}},{{cpu_one.118}},{{cpu_one.116}},{{cpu_one.114}},{{cpu_one.112}},{{cpu_one.110}},{{cpu_one.108}},{{cpu_one.106}},{{cpu_one.104}},{{cpu_one.102}},{{cpu_one.100}},{{cpu_one.98}},{{cpu_one.96}},{{cpu_one.94}},{{cpu_one.92}},{{cpu_one.90}},{{cpu_one.88}},{{cpu_one.86}},{{cpu_one.84}},{{cpu_one.82}},{{cpu_one.80}},{{cpu_one.78}},{{cpu_one.76}},{{cpu_one.74}},{{cpu_one.72}},{{cpu_one.70}},{{cpu_one.68}},{{cpu_one.66}},{{cpu_one.64}},{{cpu_one.62}},{{cpu_one.60}},{{cpu_one.58}},{{cpu_one.56}},{{cpu_one.54}},{{cpu_one.52}},{{cpu_one.50}},{{cpu_one.48}},{{cpu_one.46}},{{cpu_one.44}},{{cpu_one.42}},{{cpu_one.40}},{{cpu_one.38}},{{cpu_one.36}},{{cpu_one.34}},{{cpu_one.32}},{{cpu_one.30}},{{cpu_one.28}},{{cpu_one.26}},{{cpu_one.24}},{{cpu_one.22}},{{cpu_one.20}},{{cpu_one.18}},{{cpu_one.16}},{{cpu_one.14}},{{cpu_one.12}},{{cpu_one.10}},{{cpu_one.8}},{{cpu_one.6}},{{cpu_one.4}},{{cpu_one.2}},{{cpu_one.0}}],
            markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name: '平均值'}
                ]
            }
        },
        {
            name:'Average in 5 minutes',
            type:'line',
            data:[{{cpu_five.144}},{{cpu_five.142}},{{cpu_five.140}},{{cpu_five.138}},{{cpu_five.136}},{{cpu_five.134}},{{cpu_five.132}},{{cpu_five.130}},{{cpu_five.128}},{{cpu_five.126}},{{cpu_five.124}},{{cpu_five.122}},{{cpu_five.120}},{{cpu_five.118}},{{cpu_five.116}},{{cpu_five.114}},{{cpu_five.112}},{{cpu_five.110}},{{cpu_five.108}},{{cpu_five.106}},{{cpu_five.104}},{{cpu_five.102}},{{cpu_five.100}},{{cpu_five.98}},{{cpu_five.96}},{{cpu_five.94}},{{cpu_five.92}},{{cpu_five.90}},{{cpu_five.88}},{{cpu_five.86}},{{cpu_five.84}},{{cpu_five.82}},{{cpu_five.80}},{{cpu_five.78}},{{cpu_five.76}},{{cpu_five.74}},{{cpu_five.72}},{{cpu_five.70}},{{cpu_five.68}},{{cpu_five.66}},{{cpu_five.64}},{{cpu_five.62}},{{cpu_five.60}},{{cpu_five.58}},{{cpu_five.56}},{{cpu_five.54}},{{cpu_five.52}},{{cpu_five.50}},{{cpu_five.48}},{{cpu_five.46}},{{cpu_five.44}},{{cpu_five.42}},{{cpu_five.40}},{{cpu_five.38}},{{cpu_five.36}},{{cpu_five.34}},{{cpu_five.32}},{{cpu_five.30}},{{cpu_five.28}},{{cpu_five.26}},{{cpu_five.24}},{{cpu_five.22}},{{cpu_five.20}},{{cpu_five.18}},{{cpu_five.16}},{{cpu_five.14}},{{cpu_five.12}},{{cpu_five.10}},{{cpu_five.8}},{{cpu_five.6}},{{cpu_five.4}},{{cpu_five.2}},{{cpu_five.0}}],
            
            markLine : {
                data : [
                    {type : 'average', name : '平均值'}
                ]
            }
        },
                
    ]
};
                    
                // 为echarts对象加载数据 
                myChart.setOption(option); 
            }
        );

</script>


<div id="disk" style="height:400px;width:900px;"></div>
<!-- ECharts单文件引入 -->
<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
<script type="text/javascript">
        // 路径配置
        require.config({
            paths: {
                echarts: 'http://echarts.baidu.com/build/dist'
            }
        });
// 使用
        require(
            [
                'echarts',
                'echarts/chart/line' // 使用柱状图就加载bar模块，按需加载
               
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('disk')); 
                var option = {
    title : {
        text: 'Disk Usage Data',
        subtext: 'Host'
    },
    color : [ 
    '#6495ed','#87cefa', '#da70d6', '#32cd32', '#6495ed', 
    '#ff69b4', '#ba55d3', '#cd5c5c', '#ffa500', '#40e0d0', 
    '#1e90ff', '#ff6347', '#7b68ee', '#00fa9a', '#ffd700', 
    '#6b8e23', '#ff00ff', '#3cb371', '#b8860b', '#30e0e0' 
],
    tooltip : {
        trigger: 'axis'
    },
    legend: {
        data:['Used']
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            dataZoom : {show: true},
            
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    dataZoom : {
        show : true,
        realtime : true,
        //orient: 'vertical',   // 'horizontal'
        //x: 0,
        y: 36,
        //width: 400,
        height: 20,
        //backgroundColor: 'rgba(221,160,221,0.5)',
        //dataBackgroundColor: 'rgba(138,43,226,0.5)',
        //fillerColor: 'rgba(38,143,26,0.6)',
        //handleColor: 'rgba(128,43,16,0.8)',
        //xAxisIndex:[],
        //yAxisIndex:[],
        start : 90,
        end : 100
    },    

    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            data : ['{{disk_timestamp.142}}','{{disk_timestamp.140}}','{{disk_timestamp.138}}','{{disk_timestamp.136}}','{{disk_timestamp.134}}','{{disk_timestamp.132}}','{{disk_timestamp.130}}','{{disk_timestamp.128}}','{{disk_timestamp.126}}','{{disk_timestamp.124}}','{{disk_timestamp.122}}','{{disk_timestamp.120}}','{{disk_timestamp.118}}','{{disk_timestamp.116}}','{{disk_timestamp.114}}','{{disk_timestamp.112}}','{{disk_timestamp.110}}','{{disk_timestamp.108}}','{{disk_timestamp.106}}','{{disk_timestamp.104}}','{{disk_timestamp.102}}','{{disk_timestamp.100}}','{{disk_timestamp.98}}','{{disk_timestamp.96}}','{{disk_timestamp.94}}','{{disk_timestamp.92}}','{{disk_timestamp.90}}','{{disk_timestamp.88}}','{{disk_timestamp.86}}','{{disk_timestamp.84}}','{{disk_timestamp.82}}','{{disk_timestamp.80}}','{{disk_timestamp.78}}','{{disk_timestamp.76}}','{{disk_timestamp.74}}','{{disk_timestamp.72}}','{{disk_timestamp.70}}','{{disk_timestamp.68}}','{{disk_timestamp.66}}','{{disk_timestamp.64}}','{{disk_timestamp.62}}','{{disk_timestamp.60}}','{{disk_timestamp.58}}','{{disk_timestamp.56}}','{{disk_timestamp.54}}','{{disk_timestamp.52}}','{{disk_timestamp.50}}','{{disk_timestamp.48}}','{{disk_timestamp.46}}','{{disk_timestamp.44}}','{{disk_timestamp.42}}','{{disk_timestamp.40}}','{{disk_timestamp.38}}','{{disk_timestamp.36}}','{{disk_timestamp.34}}','{{disk_timestamp.32}}','{{disk_timestamp.30}}','{{disk_timestamp.28}}','{{disk_timestamp.26}}','{{disk_timestamp.24}}','{{disk_timestamp.22}}','{{disk_timestamp.20}}','{{disk_timestamp.18}}','{{disk_timestamp.16}}','{{disk_timestamp.14}}','{{disk_timestamp.12}}','{{disk_timestamp.10}}','{{disk_timestamp.8}}','{{disk_timestamp.6}}','{{disk_timestamp.4}}','{{disk_timestamp.2}}','{{disk_timestamp.0}}']
        }
    ],
    yAxis : [
        {
            type : 'value',
            axisLabel : {
                formatter: '{value} MB'
            },
            scale:true
        }
    ],
    series : [
                {
            name:'Used',
            type:'line',
            data:[{{diskuse.144}},{{diskuse.142}},{{diskuse.140}},{{diskuse.138}},{{diskuse.136}},{{diskuse.134}},{{diskuse.132}},{{diskuse.130}},{{diskuse.128}},{{diskuse.126}},{{diskuse.124}},{{diskuse.122}},{{diskuse.120}},{{diskuse.118}},{{diskuse.116}},{{diskuse.114}},{{diskuse.112}},{{diskuse.110}},{{diskuse.108}},{{diskuse.106}},{{diskuse.104}},{{diskuse.102}},{{diskuse.100}},{{diskuse.98}},{{diskuse.96}},{{diskuse.94}},{{diskuse.92}},{{diskuse.90}},{{diskuse.88}},{{diskuse.86}},{{diskuse.84}},{{diskuse.82}},{{diskuse.80}},{{diskuse.78}},{{diskuse.76}},{{diskuse.74}},{{diskuse.72}},{{diskuse.70}},{{diskuse.68}},{{diskuse.66}},{{diskuse.64}},{{diskuse.62}},{{diskuse.60}},{{diskuse.58}},{{diskuse.56}},{{diskuse.54}},{{diskuse.52}},{{diskuse.50}},{{diskuse.48}},{{diskuse.46}},{{diskuse.44}},{{diskuse.42}},{{diskuse.40}},{{diskuse.38}},{{diskuse.36}},{{diskuse.34}},{{diskuse.32}},{{diskuse.30}},{{diskuse.28}},{{diskuse.26}},{{diskuse.24}},{{diskuse.22}},{{diskuse.20}},{{diskuse.18}},{{diskuse.16}},{{diskuse.14}},{{diskuse.12}},{{diskuse.10}},{{diskuse.8}},{{diskuse.6}},{{diskuse.4}},{{diskuse.2}},{{diskuse.0}}],
            
            markLine : {
                data : [
                    {type : 'average', name : '平均值'}
                ]
            }
        },
                
    ]
};
                    
                // 为echarts对象加载数据 
                myChart.setOption(option); 
            }
        );

</script>


<div id="process" style="height:400px;width:900px;"></div>
<!-- ECharts单文件引入 -->
<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
<script type="text/javascript">
        // 路径配置
        require.config({
            paths: {
                echarts: 'http://echarts.baidu.com/build/dist'
            }
        });
// 使用
        require(
            [
                'echarts',
                'echarts/chart/line' // 使用柱状图就加载bar模块，按需加载
               
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('process')); 
                var option = {
    title : {
        text: 'Process Amount',
        subtext: 'Host'
    },
    color : [ 
    '#FF0080'],
    tooltip : {
        trigger: 'axis'
    },
    legend: {
        data:['Number']
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {show: false},
            dataZoom : {show: true},

            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    dataZoom : {
        show : true,
        realtime : true,
        //orient: 'vertical',   // 'horizontal'
        //x: 0,
        y: 36,
        //width: 400,
        height: 20,
        //backgroundColor: 'rgba(221,160,221,0.5)',
        //dataBackgroundColor: 'rgba(138,43,226,0.5)',
        //fillerColor: 'rgba(38,143,26,0.6)',
        //handleColor: 'rgba(128,43,16,0.8)',
        //xAxisIndex:[],
        //yAxisIndex:[],
        start : 80,
        end : 100,
    },    


    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            data : ['{{pro_timestamp.144}}','{{pro_timestamp.142}}','{{pro_timestamp.140}}','{{pro_timestamp.138}}','{{pro_timestamp.136}}','{{pro_timestamp.134}}','{{pro_timestamp.132}}','{{pro_timestamp.130}}','{{pro_timestamp.128}}','{{pro_timestamp.126}}','{{pro_timestamp.124}}','{{pro_timestamp.122}}','{{pro_timestamp.120}}','{{pro_timestamp.118}}','{{pro_timestamp.116}}','{{pro_timestamp.114}}','{{pro_timestamp.112}}','{{pro_timestamp.110}}','{{pro_timestamp.108}}','{{pro_timestamp.106}}','{{pro_timestamp.104}}','{{pro_timestamp.102}}','{{pro_timestamp.100}}','{{pro_timestamp.98}}','{{pro_timestamp.96}}','{{pro_timestamp.94}}','{{pro_timestamp.92}}','{{pro_timestamp.90}}','{{pro_timestamp.88}}','{{pro_timestamp.86}}','{{pro_timestamp.84}}','{{pro_timestamp.82}}','{{pro_timestamp.80}}','{{pro_timestamp.78}}','{{pro_timestamp.76}}','{{pro_timestamp.74}}','{{pro_timestamp.72}}','{{pro_timestamp.70}}','{{pro_timestamp.68}}','{{pro_timestamp.66}}','{{pro_timestamp.64}}','{{pro_timestamp.62}}','{{pro_timestamp.60}}','{{pro_timestamp.58}}','{{pro_timestamp.56}}','{{pro_timestamp.54}}','{{pro_timestamp.52}}','{{pro_timestamp.50}}','{{pro_timestamp.48}}','{{pro_timestamp.46}}','{{pro_timestamp.44}}','{{pro_timestamp.42}}','{{pro_timestamp.40}}','{{pro_timestamp.38}}','{{pro_timestamp.36}}','{{pro_timestamp.34}}','{{pro_timestamp.32}}','{{pro_timestamp.30}}','{{pro_timestamp.28}}','{{pro_timestamp.26}}','{{pro_timestamp.24}}','{{pro_timestamp.22}}','{{pro_timestamp.20}}','{{pro_timestamp.18}}','{{pro_timestamp.16}}','{{pro_timestamp.14}}','{{pro_timestamp.12}}','{{pro_timestamp.10}}','{{pro_timestamp.8}}','{{pro_timestamp.6}}','{{pro_timestamp.4}}','{{pro_timestamp.2}}','{{pro_timestamp.0}}']
        }
    ],
    yAxis : [
        {
            type : 'value',
            axisLabel : {
                formatter: '{value}'
            },
            scale:true
        }
    ],
    series : [
                {
            name:'Used',
            type:'line',
            data:[{{pro.144}},{{pro.142}},{{pro.140}},{{pro.138}},{{pro.136}},{{pro.134}},{{pro.132}},{{pro.130}},{{pro.128}},{{pro.126}},{{pro.124}},{{pro.122}},{{pro.120}},{{pro.118}},{{pro.116}},{{pro.114}},{{pro.112}},{{pro.110}},{{pro.108}},{{pro.106}},{{pro.104}},{{pro.102}},{{pro.100}},{{pro.98}},{{pro.96}},{{pro.94}},{{pro.92}},{{pro.90}},{{pro.88}},{{pro.86}},{{pro.84}},{{pro.82}},{{pro.80}},{{pro.78}},{{pro.76}},{{pro.74}},{{pro.72}},{{pro.70}},{{pro.68}},{{pro.66}},{{pro.64}},{{pro.62}},{{pro.60}},{{pro.58}},{{pro.56}},{{pro.54}},{{pro.52}},{{pro.50}},{{pro.48}},{{pro.46}},{{pro.44}},{{pro.42}},{{pro.40}},{{pro.38}},{{pro.36}},{{pro.34}},{{pro.32}},{{pro.30}},{{pro.28}},{{pro.26}},{{pro.24}},{{pro.22}},{{pro.20}},{{pro.18}},{{pro.16}},{{pro.14}},{{pro.12}},{{pro.10}},{{pro.8}},{{pro.6}},{{pro.4}},{{pro.2}},{{pro.0}}],
            
            markLine : {
                data : [
                    {type : 'average', name : '平均值'}
                ]
            }
        },
                
    ]
};
                    
                // 为echarts对象加载数据 
                myChart.setOption(option); 
            }
        );

</script>
	</div>
	
	